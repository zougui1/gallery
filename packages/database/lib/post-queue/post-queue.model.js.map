{"version":3,"file":"post-queue.model.js","sourceRoot":"","sources":["../../src/post-queue/post-queue.model.ts"],"names":[],"mappings":"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","sourcesContent":["import { prop } from '@typegoose/typegoose';\n\nimport { PostQueueStatus, PostSeriesType } from '@zougui/gallery.enums';\n\nimport { getModel } from '../utils';\n\nexport class PostQueueStep {\n  @prop({ enum: PostQueueStatus, type: String, required: true })\n  status!: PostQueueStatus;\n\n  @prop({ type: String, required: false })\n  message?: string;\n\n  @prop({ type: [String], required: false })\n  errorList?: string[];\n\n  @prop({ type: Date, required: true })\n  date!: Date;\n}\n\nexport class PostQueueAltMetadata {\n  @prop({ required: true, index: true })\n  id!: string;\n\n  @prop({ required: true })\n  label!: string;\n}\n\nexport class PostQueueSeriesMetadata {\n  @prop({ required: true, index: true })\n  id!: string;\n\n  @prop({ type: String, enum: PostSeriesType, required: true })\n  type!: PostSeriesType;\n\n  @prop({ required: true })\n  name!: string;\n\n  @prop({ type: String, required: false })\n  chapterName?: string;\n\n  @prop({ required: true })\n  chapterIndex!: number;\n\n  @prop({ required: true })\n  partIndex!: number;\n}\n\nexport class PostQueue {\n  @prop({ type: PostQueueAltMetadata, required: false, _id: false })\n  alt?: PostQueueAltMetadata;\n\n  @prop({ type: PostQueueSeriesMetadata, required: false, _id: false })\n  series?: PostQueueSeriesMetadata;\n\n  @prop({ type: [PostQueueStep], required: true, _id: false })\n  steps!: PostQueueStep[];\n\n  /**\n   * optional as only direct uploads have a file available at this point\n   */\n  @prop({ type: String, required: false })\n  fileName?: string;\n\n  /**\n   * optional as direct uploads don't have a URL\n   */\n  @prop({ type: String, required: true, index: true, unique: true })\n  url!: string;\n\n  @prop({ type: String, required: false })\n  attachmentUrl?: string;\n\n  /**\n   * optional as only direct uploads have a title\n   */\n  @prop({ type: String, required: false })\n  title?: string;\n\n  @prop({ type: [String], required: false })\n  keywords?: string[];\n\n  @prop({ type: String, required: false })\n  description?: string;\n\n  @prop({ type: Date, required: true })\n  createdAt!: Date;\n\n  @prop({ type: Date, required: false })\n  deletedAt?: Date;\n}\n"]}